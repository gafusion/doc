Running Cases
=============

Command-line usage
------------------

Beyond the general instructions here, we also give hints for running on systems with :doc:`public GACODE installs <cgyro/cgyro_platforms>`.  The input files and configuration for numerous linear and nonlinear cases can
be auto-generated using the ``-g`` flag.  Often, it is easiest to find a template case that is close to what you would like to run, and then modify it accordingly.  A list of all regression and template cases in generated by typing::

  $ cgyro -g

A very simple nonlinear case is ``nl00``.  You can generate the template with::

  $ cgyro -g nl00

It is **strongly suggested** that you first run your case in *test mode* using the ``-t`` flag::

  $ cgyro -t nl00

On the large systems at :doc:`NERSC, ORNL and elsewhere <cgyro/cgyro_platforms>`, you will need to establish an **interactive queue** to execute the command above.  The result should be diagnostics printed to the screen plus a few output files.  Pay attention to the file ``out.cgyro.mpi``. This shows the acceptable number of MPI tasks.

Batch submission
----------------

On established platforms, the burden of writing batch script files and setting core counts is managed by the ``gacode_qsub`` script.  To generate a ``batch.src`` file, you could type::

  $ gacode_qsub -e nl01 -n 512 -nomp 2 -queue regular -repo atom -w 0:09:00 

Additional flags are also accepted.  Adding the ``-s`` flag to the above will submit the job.





